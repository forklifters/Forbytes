define(["jquery"],function(n){var t=n(".email-form .btn-send-mail"),u=n(".email-form .form-inline"),f=n(".email-form .mail-success"),i=n(".email-form .inp-send-mail"),e=function(n){return/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(n)},r=function(){if(!t.prop("disabled")){var r=n(".email-form .mail-error"),o=n(".email-form .form-group"),h=function(){r.show();o.addClass("has-error")},c=function(){r.hide();o.removeClass("has-error")},s=function(r){var o=i.val();if(e(o)){if(c(),!r)return;t.prop("disabled",!0);n.post("/wp-admin/admin-ajax.php",{action:"send_mail",mail:o},function(i){t.prop("disabled",!1);i.status=="ok"&&(n(".email-form .inp-send-mail").val(""),u.addClass("hidden"),f.removeClass("hidden"))},"json").fail(function(){t.prop("disabled",!1)})}else h()};i.off("keyup.validation");i.on("keyup.validation",s.bind(window,!1));s(!0)}},o=function(){t.on("click",r);i.on("keyup.enterkey",function(n){n.keyCode==13&&r()})};return{init:o}});
//# sourceMappingURL=emailform.min.js.map
